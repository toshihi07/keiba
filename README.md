## 競馬ポータルサイト [UMAUMA]url:(http://52.68.193.142/)
emailとpasswordを入力することで、ログインできます。<br>
[テスト用アカウント]
email:    test@gmail.com
password: 1111111<br>

※馬券情報の登録、掲示板の書き込みにはログインが必要です。

<img width="908" alt="keiba_top" src="https://user-images.githubusercontent.com/55124827/70133149-eb967d80-16c8-11ea-83ec-c128fdc5cf73.png">

### アプリ概要
---
競馬のポータルサイトです。機能は大きく以下の3つになります。<br>
1.馬券の購入の記録と確認。
当アプリのメイン機能です。ログインすることで、馬券の購入を記録し、マイページで収支を確認出来ます。<br>
 - 登録ページ
馬券種、買い方毎にセレクトボックスとチェックボックスから購入した馬券を選択肢して金額を入力して登録できます。

<img width="603" alt="馬連ボックス登録" src="https://user-images.githubusercontent.com/55124827/70298519-464ce800-1835-11ea-809a-e4dc1764e1b9.png">

<img width="626" alt="馬連ながし" src="https://user-images.githubusercontent.com/55124827/70298661-b9eef500-1835-11ea-822e-f8da679f337b.png">

 - マイページ
購入馬券の確認、結果の登録が出来ます。トータルの投資額、回収額、回収率、当年と当月の収支を確認出来ます。競馬場別収支、馬券種ごとの収支については転職活動終了後に更新予定です。

<img width="868" alt="マイページ" src="https://user-images.githubusercontent.com/55124827/70298806-3c77b480-1836-11ea-9657-ada270b67240.png">

※10000円ずつ当選と仮定。

2.レース予想の掲示板。
ユーザー同士で予想を議論出来る掲示板ページです。投稿の送信はajyax通信で行っています。掲示板への書き込みはログインが必要で、トピックの作成は管理者が行います。投稿にいいねをすることも出来ます。

<img width="956" alt="掲示板機能" src="https://user-images.githubusercontent.com/55124827/70298869-81035000-1836-11ea-8263-abfce9c55800.png">

3.ブログ機能。
当週のメインレースの予想を管理者が行います。予想記事の閲覧は誰でも出来ますが、予想記事の投稿は管理者権限を持ったユーザーのみ行なえます。ブログ記事にはログインを行うことでコメントを行うことも出来ます。

![予想記事一覧](https://user-images.githubusercontent.com/55124827/70298902-97a9a700-1836-11ea-945d-b9eab617130b.jpg)



### 作成した経緯
---
スクールに通って学んだことの集大成として、ポータルサイトを作りたいと考えたからです。自分の中で理解が曖昧だったJavaScriptを復習したいと考えていたのと、より発展的なデータの登録と表示をやってみたいと思っていました。その際に思い付いたのが馬券の収支管理をメイン機能として、掲示板機能とブログ機能を追加した競馬のポータルサイトでした。

### 開発期間と平均作業時間
---
約3週間、１日6時間程度。

### 苦労した点
--- 
最も苦労したのが馬券の購入機能です。馬券の種類、買い方には様々なパターンが有りますが、購入ページではそれらをjavascriptファイルのif文で条件分岐してセレクトボックスとチェックボックスで選ばせるようにしています。ボックスやながし馬券などの買い目の数が多い馬券も何通りかを表示し、投資額がいくらになるか自動で計算するようになっています。マイページでは登録した馬券情報(bettingsテーブル)の必要箇所を表示するのに苦労しました。



### 使用技術
---
- 使用言語
haml/scss/javascript/Ruby(2.5.1)
- フレームワーク
Ruby on rails(5.2.3)<br>
- ライブラリ
jQuery
Bootstrap
- インフラストラクチャー
AWS(EC2インスタンス)
自動デプロイツールCapistranoの導入<br>
- Webサーバー
Nginx<br>
- アプリケションサーバ
Unicorn<br>
- データベースサーバ
MySQL<br>
- その他
GitHub
